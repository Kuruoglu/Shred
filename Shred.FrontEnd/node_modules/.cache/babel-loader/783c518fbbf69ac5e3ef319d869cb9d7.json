{"ast":null,"code":"var _jsxFileName = \"D:\\\\ItStep\\\\Shrad\\\\src\\\\components\\\\Calendar\\\\AreaCalendarWeek.js\";\nimport React from \"react\";\nimport Band from \"./Band\";\nimport moment from \"moment\";\nimport styles from \"./AreaCalendarWeek.module.sass\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport * as action from '../../redux/action/ActionCreators';\n\nfunction AreaCalendarWeek({\n  currentMonth,\n  activeMonth,\n  currentDate,\n  changeActiveDay,\n  isActiveDay,\n  events,\n  handleChangeActiveDay\n}) {\n  const renderCalendar = () => {\n    const calendar = [];\n\n    for (let i = 1; i < (activeMonth ? 7 : 2); i++) {\n      calendar.push(renderWeek(moment(currentMonth).format(\"YYYY\"), i));\n    }\n\n    return calendar;\n  };\n\n  const renderWeek = (year, week) => {\n    const weekDays = [1, 2, 3, 4, 5, 6, 7];\n    const weekDates = weekDays.map(weekDay => weekDay);\n    return React.createElement(\"div\", {\n      key: week,\n      className: styles.weekRow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, weekDates.map(item => {\n      const startMonthDay = moment(currentMonth);\n      const monthFirstDay = moment(startMonthDay).startOf(activeMonth ? \"month\" : \"week\");\n      const weekFirstday = moment(monthFirstDay).add(week - 1, \"week\").startOf(\"week\").isoWeekday(6);\n      const date = weekFirstday.add(item, \"day\");\n\n      const currentActiveDay = () => handleChangeActiveDay(date);\n\n      return React.createElement(\"div\", {\n        key: date.format(\"D\"),\n        className: date.format(\"D MMM YY\") === isActiveDay.format(\"D MMM YY\") && date.format(\"MMM YYYY\") === startMonthDay.format(\"MMM YYYY\") ? styles.dayCellActive : styles.dayCell,\n        onClick: () => currentActiveDay,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: date.format(\"D MMM YY\") === currentDate.format(\"D MMM YY\") ? styles.activeDate : \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, activeMonth ? date.format(\"MMMM\") === startMonthDay.format(\"MMMM\") && date.format(\"D\") : date.format(\"D\")), React.createElement(Band, {\n        events: events,\n        data: date,\n        currentStateMonth: currentMonth,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }));\n    }));\n  };\n\n  return React.createElement(\"div\", {\n    className: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, renderCalendar());\n}\n\nAreaCalendarWeek.defaultProps = {\n  renderWeekMonth: () => {},\n  currentMonth: moment(),\n  currentDate: moment(),\n  changeActiveDay: () => {},\n  isActiveDay: moment(),\n  events: []\n};\nAreaCalendarWeek.propTypes = {\n  renderWeekMonth: PropTypes.func.isRequired,\n  changeActiveDay: PropTypes.func.isRequired,\n  events: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = store => ({\n  activeMonth: store.reducer.activeMonth,\n  currentMonth: store.reducer.currentMonth\n});\n\nconst mapDispatchToProps = dispatch => ({\n  handleChangeActiveDay: day => dispatch(action.changeActivDayAction(day))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AreaCalendarWeek);","map":{"version":3,"sources":["D:/ItStep/Shrad/src/components/Calendar/AreaCalendarWeek.js"],"names":["React","Band","moment","styles","PropTypes","connect","action","AreaCalendarWeek","currentMonth","activeMonth","currentDate","changeActiveDay","isActiveDay","events","handleChangeActiveDay","renderCalendar","calendar","i","push","renderWeek","format","year","week","weekDays","weekDates","map","weekDay","weekRow","item","startMonthDay","monthFirstDay","startOf","weekFirstday","add","isoWeekday","date","currentActiveDay","dayCellActive","dayCell","activeDate","container","defaultProps","renderWeekMonth","propTypes","func","isRequired","object","mapStateToProps","store","reducer","mapDispatchToProps","dispatch","day","changeActivDayAction"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Band from \"./Band\";\r\nimport moment from \"moment\";\r\nimport styles from \"./AreaCalendarWeek.module.sass\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport * as action from '../../redux/action/ActionCreators';\r\n\r\nfunction AreaCalendarWeek({\r\n  currentMonth,\r\n  activeMonth,\r\n  currentDate,\r\n  changeActiveDay,\r\n  isActiveDay,\r\n  events,\r\n  handleChangeActiveDay\r\n}) {\r\n  \r\n\r\n  const renderCalendar = () => {\r\n    const calendar = [];\r\n    for (let i = 1; i < (activeMonth ? 7 : 2); i++) {\r\n      calendar.push(renderWeek(moment(currentMonth).format(\"YYYY\"), i));\r\n    }\r\n    return calendar;\r\n  };\r\n\r\n  const renderWeek = (year, week) => {\r\n    const weekDays = [1, 2, 3, 4, 5, 6, 7];\r\n    const weekDates = weekDays.map(weekDay => weekDay);\r\n    return (\r\n      <div key={week} className={styles.weekRow}>\r\n        {weekDates.map(item => {\r\n          const startMonthDay = moment(currentMonth);\r\n          const monthFirstDay = moment(startMonthDay).startOf(\r\n            activeMonth ? \"month\" : \"week\"\r\n          );\r\n          const weekFirstday = moment(monthFirstDay)\r\n            .add(week - 1, \"week\")\r\n            .startOf(\"week\")\r\n            .isoWeekday(6);\r\n          const date = weekFirstday.add(item, \"day\");\r\n          const currentActiveDay = () => handleChangeActiveDay(date);\r\n\r\n          return (\r\n            <div\r\n              key={date.format(\"D\")}\r\n              className={\r\n                date.format(\"D MMM YY\") === isActiveDay.format(\"D MMM YY\") &&\r\n                date.format(\"MMM YYYY\") === startMonthDay.format(\"MMM YYYY\")\r\n                  ? styles.dayCellActive\r\n                  : styles.dayCell\r\n              }\r\n              onClick={() => currentActiveDay}\r\n            >\r\n              <p\r\n                className={\r\n                  date.format(\"D MMM YY\") === currentDate.format(\"D MMM YY\")\r\n                    ? styles.activeDate\r\n                    : \"\"\r\n                }\r\n              >\r\n                {activeMonth\r\n                  ? date.format(\"MMMM\") === startMonthDay.format(\"MMMM\") &&\r\n                    date.format(\"D\")\r\n                  : date.format(\"D\")}\r\n              </p>\r\n              <Band\r\n                events={events}\r\n                data={date}\r\n                currentStateMonth={currentMonth}\r\n              />\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return <div className={styles.container}>{renderCalendar()}</div>;\r\n}\r\nAreaCalendarWeek.defaultProps = {\r\n  renderWeekMonth: () => {},\r\n  currentMonth: moment(),\r\n  currentDate: moment(),\r\n  changeActiveDay: () => {},\r\n  isActiveDay: moment(),\r\n  events: []\r\n};\r\n\r\nAreaCalendarWeek.propTypes = {\r\n  renderWeekMonth: PropTypes.func.isRequired,\r\n  changeActiveDay: PropTypes.func.isRequired,\r\n  events: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = store => ({\r\n  activeMonth: store.reducer.activeMonth,\r\n  currentMonth: store.reducer.currentMonth\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleChangeActiveDay: (day) => dispatch(action.changeActivDayAction(day))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AreaCalendarWeek);\r\n"]},"metadata":{},"sourceType":"module"}